document.addEventListener("DOMContentLoaded", function () { document.querySelectorAll(".card").forEach((e, t) => { setTimeout(() => { e.classList.add("show") }, 200 * t) }) }); let lastFocusedElement = null; function openModal(e, t) { e = document.getElementById(e); lastFocusedElement = document.getElementById(t), e.style.display = "block", e.setAttribute("aria-hidden", "false"), trapFocus(e) } function closeModal(e) { e = document.getElementById(e); e.style.display = "none", lastFocusedElement.focus(), e.setAttribute("aria-hidden", "true") } function trapFocus(e) { var t = e.querySelectorAll("a, button, textarea, input, select"); const n = t[0], o = t[t.length - 1]; n.focus(), e.addEventListener("keydown", function (e) { "Tab" === e.key && (e.shiftKey ? document.activeElement === n && (e.preventDefault(), o.focus()) : document.activeElement === o && (e.preventDefault(), n.focus())) }) } document.addEventListener("keydown", function (e) { "Escape" === e.key && (e = document.querySelector('.modal[aria-hidden="false"]')) && closeModal(e.id) });